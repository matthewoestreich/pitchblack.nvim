local config = require("pitchblack.config")

local M = {}

function M.apply_core()
	--vim.notify("pitchblack:highlights:apply_core()")
	vim.o.background = config.options.background

	local core_hl = {
		["Constant"] = { fg = "#ff966c" },
		["IncSearch"] = { fg = "#1b1d2b", bg = "#ff966c" },
		["Special"] = { fg = "#65bcff" },
		["Normal"] = { fg = "#d4d4d4", bg = "#000000" },
		["NormalNC"] = { fg = "#d4d4d4", bg = "#000000" },
		["NormalFloat"] = { bg = "#000000", fg = "#ffffff" },
		["FloatBorder"] = { bg = "#000000", fg = "#8aaae5" },
		["CursorLineNr"] = { fg = "#ff966c", bold = true },
		["CursorLine"] = { bg = "#2f334d" },
		["LineNr"] = { fg = "#3b4261" },
		["LineNrAbove"] = { fg = "#777777", bg = "#000000" },
		["LineNrBelow"] = { fg = "#777777", bg = "#000000" },
		["SignColumn"] = { bg = "#000000" },
		["SignColumnSB"] = { bg = "#000000" },
		["FoldColumn"] = { bg = "#000000" },
		["TabLine"] = { fg = "#3b4261", bg = "#1e2030" },
		["TabLineSel"] = { fg = "#1b1d2b", bg = "#82aaff" },
		["TabLineFill"] = { bg = "#1b1d2b" },
		["Visual"] = { bg = "#2d3f76" },
		["PmenuSel"] = { bg = "#363c58" },
		["Pmenu"] = { fg = "#c8d3f5", bg = "#1e2030" },
		["PmenuMatch"] = { fg = "#65bcff", bg = "#1e2030" },
		["PmenuMatchSel"] = { fg = "#65bcff", bg = "#1e2030" },
		["Title"] = { fg = "#82aaff", bold = true },
		["NonText"] = { fg = "#545c7e" },
		["MatchParen"] = { fg = "#ff966c", bold = true },
		["EndOfBuffer"] = { fg = "#222436" },
		["ErrorMsg"] = { fg = "#c53b53" },

		["StatusLine"] = { fg = "#c8d3f5", bg = "#1e2030" },
		["StatusLineNC"] = { fg = "#c8d3f5", bg = "#1e2030" },

		-- BufferLine
		["BufferLineMiniIconsRed"] = { fg = "#ff757f", bg = "#000000" },
		["BufferLineMiniIconsRedSelected"] = { fg = "#ff757f", bg = "#000000" },
		["BufferLineMiniIconsRedInactive"] = { fg = "#ff757f", bg = "#000000" },
		["BufferLineMiniIconsYellow"] = { fg = "#ffc777", bg = "#000000" },
		["BufferLineMiniIconsYellowSelected"] = { fg = "#ffc777", bg = "#000000" },
		["BufferLineMiniIconsYellowInactive"] = { fg = "#ffc777", bg = "#000000" },
		["BufferLineMiniIconsPurple"] = { fg = "#c099ff", bg = "#000000" },
		["BufferLineMiniIconsPurpleSelected"] = { fg = "#c099ff", bg = "#000000" },
		["BufferLineMiniIconsPurpleInactive"] = { fg = "#c099ff", bg = "#000000" },
		["BufferLineMiniIconsOrange"] = { fg = "#ffb86c", bg = "#000000" },
		["BufferLineMiniIconsOrangeSelected"] = { fg = "#ffb86c", bg = "#000000" },
		["BufferLineMiniIconsOrangeInactive"] = { fg = "#ffb86c", bg = "#000000" },
		["BufferLineMiniIconsBlue"] = { fg = "#82aaff", bg = "#000000" },
		["BufferLineMiniIconsBlueSelected"] = { fg = "#82aaff", bg = "#000000" },
		["BufferLineMiniIconsBlueInactive"] = { fg = "#82aaff", bg = "#000000" },
		["BufferLineMiniIconsGray"] = { fg = "#7f848e", bg = "#000000" },
		["BufferLineMiniIconsGraySelected"] = { fg = "#7f848e", bg = "#000000" },
		["BufferLineMiniIconsGrayInactive"] = { fg = "#7f848e", bg = "#000000" },
		["BufferLineMiniIconsAzure"] = { fg = "#0db9d7", bg = "#000000" },
		["BufferLineMiniIconsAzureSelected"] = { fg = "#0db9d7", bg = "#000000" },
		["BufferLineMiniIconsGreen"] = { fg = "#c3e88d", bg = "#000000" },
		["BufferLineMiniIconsGreenSelected"] = { fg = "#c3e88d", bg = "#000000" },
		["BufferLineMiniIconsGreenInactive"] = { fg = "#c3e88d", bg = "#000000" },
		["BufferLineFill"] = { fg = "#636da6", bg = "#000000" },
		["BufferLineBackground"] = { fg = "#636da6", bg = "#000000" },
		["BufferLineBufferSelected"] = { fg = "#d4d4d4", bg = "#000000", bold = true, italic = true },
		["BufferLineBufferVisible"] = { fg = "#636da6", bg = "#000000" },
		["BufferLineInfoVisible"] = { fg = "#636da6", bg = "#000000" },
		["BufferLineHintDiagnosticSelected"] = {
			fg = "#3ba08e",
			bg = "#000000",
			bold = true,
			italic = true,
			sp = "#3ba08e",
		},
		["BufferLineHintDiagnosticVisible"] = { fg = "#4a517c", bg = "#000000" },
		["BufferLineHintDiagnostic"] = { fg = "#4a517c", bg = "#000000", sp = "#3ba08e" },
		["BufferLineHintSelected"] = { fg = "#4fd6be", bg = "#000000", bold = true, italic = true, sp = "#4fd6be" },
		["BufferLineError"] = { fg = "#636da6", bg = "#000000", sp = "#c53b53" },
		["BufferLineDiagnosticSelected"] = { fg = "#9f9f9f", bg = "#000000", bold = true, italic = true },
		["BufferLineTab"] = { fg = "#636da6", bg = "#000000" },
		["BufferLineNumbersVisible"] = { fg = "#636da6", bg = "#000000" },
		["BufferLineNumbersSelected"] = { fg = "#d4d4d4", bg = "#000000", bold = true, italic = true },
		["BufferLineNumbers"] = { fg = "#636da6", bg = "#000000" },
		["BufferLineBuffer"] = { fg = "#636da6", bg = "#000000" },
		["BufferLineCloseButtonSelected"] = { fg = "#d4d4d4", bg = "#000000" },
		["BufferLineCloseButtonVisible"] = { fg = "#636da6", bg = "#000000" },
		["BufferLineCloseButton"] = { fg = "#636da6", bg = "#000000" },
		["BufferLineTabClose"] = { fg = "#636da6", bg = "#000000" },
		["BufferLineTabSelected"] = { fg = "#82aaff", bg = "#000000" },
		["BufferLineSeparator"] = { fg = "#000000", bg = "#000000" },
		["BufferLineGroupSeparator"] = { fg = "#636da6", bg = "#000000" },
		["BufferLineTruncMarker"] = { fg = "#636da6", bg = "#000000" },
		["BufferLineHintVisible"] = { fg = "#636da6", bg = "#000000" },
		["BufferLineDiagnosticVisible"] = { fg = "#4a517c", bg = "#000000" },
		["BufferLineModified"] = { fg = "#c3e88d", bg = "#000000" },
		["BufferLineHint"] = { fg = "#636da6", bg = "#000000", sp = "#4fd6be" },
		["BufferLineGroupLabel"] = { fg = "#000000", bg = "#636da6" },
		["BufferLineInfo"] = { fg = "#636da6", bg = "#000000", sp = "#0db9d7" },
		["BufferLinePick"] = { fg = "#c53b53", bg = "#000000", bold = true, italic = true },
		["BufferLineWarning"] = { fg = "#636da6", bg = "#000000", sp = "#ffc777" },
		["BufferLineDuplicateVisible"] = { fg = "#5e679d", bg = "#000000", italic = true },
		["BufferLineDiagnostic"] = { fg = "#4a517c", bg = "#000000" },
		["BufferLineOffsetSeparator"] = { fg = "#1b1d2b", bg = "#000000" },
		["BufferLinePickVisible"] = { fg = "#c53b53", bg = "#000000", bold = true, italic = true },
		["BufferLinePickSelected"] = { fg = "#c53b53", bg = "#000000", bold = true, italic = true },
		["BufferLineIndicatorVisible"] = { fg = "#000000", bg = "#000000" },
		["BufferLineIndicatorSelected"] = { fg = "#d4d4d4", bg = "#000000" },
		["BufferLineTabSeparatorSelected"] = { fg = "#000000", bg = "#000000" },
		["BufferLineTabSeparator"] = { fg = "#000000", bg = "#000000" },
		["BufferLineSeparatorVisible"] = { fg = "#000000", bg = "#000000" },
		["BufferLineSeparatorSelected"] = { fg = "#000000", bg = "#000000" },
		["BufferLineDuplicate"] = { fg = "#5e679d", bg = "#000000", italic = true },
		["BufferLineDuplicateSelected"] = { fg = "#5e679d", bg = "#000000", italic = true },
		["BufferLineModifiedSelected"] = { fg = "#c3e88d", bg = "#000000" },
		["BufferLineModifiedVisible"] = { fg = "#c3e88d", bg = "#000000" },
		["BufferLineErrorDiagnosticSelected"] = {
			fg = "#932c3e",
			bg = "#000000",
			bold = true,
			italic = true,
			sp = "#932c3e",
		},
		["BufferLineErrorDiagnosticVisible"] = { fg = "#4a517c", bg = "#000000" },
		["BufferLineErrorDiagnostic"] = { fg = "#4a517c", bg = "#000000", sp = "#932c3e" },
		["BufferLineErrorSelected"] = { fg = "#c53b53", bg = "#000000", bold = true, italic = true, sp = "#c53b53" },
		["BufferLineErrorVisible"] = { fg = "#636da6", bg = "#000000" },
		["BufferLineWarningDiagnosticSelected"] = {
			fg = "#bf9559",
			bg = "#000000",
			bold = true,
			italic = true,
			sp = "#bf9559",
		},
		["BufferLineWarningDiagnosticVisible"] = { fg = "#4a517c", bg = "#000000" },
		["BufferLineWarningDiagnostic"] = { fg = "#4a517c", bg = "#000000", sp = "#bf9559" },
		["BufferLineWarningSelected"] = { fg = "#ffc777", bg = "#000000", bold = true, italic = true, sp = "#ffc777" },
		["BufferLineWarningVisible"] = { fg = "#636da6", bg = "#000000" },
		["BufferLineInfoDiagnosticSelected"] = {
			fg = "#098aa1",
			bg = "#000000",
			bold = true,
			italic = true,
			sp = "#098aa1",
		},
		["BufferLineInfoDiagnosticVisible"] = { fg = "#4a517c", bg = "#000000" },
		["BufferLineInfoDiagnostic"] = { fg = "#4a517c", bg = "#000000", sp = "#098aa1" },
		["BufferLineInfoSelected"] = { fg = "#0db9d7", bg = "#000000", bold = true, italic = true, sp = "#0db9d7" },
		["BufferLineIndicator"] = { fg = "#636da6", bg = "#1e2030" },
		["BufferLineTabFill"] = { bg = "#1e2030" },

		-- Explorer related
		["Directory"] = { fg = "#82aaff" },

		-- Diagnostics
		["DiagnosticWarn"] = { fg = "#ffc777" },
		["DiagnosticInfo"] = { fg = "#0db9d7" },

		-- Snacks
		["SnacksPickerFile"] = { fg = "#ffffff" },
		["SnacksPickerPathHidden"] = { fg = "#545c7e" },
		["SnacksPickerBoxTitle"] = { fg = "#ff966c", bg = "#1e2030" },
		["SnacksDashboardKey"] = { fg = "#ff966c" },
		["SnacksDashboardHeader"] = { fg = "#82aaff" },
		["SnacksNotifierTitleWarn"] = { fg = "#ffc777" },
		["SnacksPickerInputBorder"] = { fg = "#ff966c", bg = "#1e2030" },
		["SnacksPickerInputTitle"] = { fg = "#ff966c", bg = "#1e2030" },
		["SnacksNotifierIconDebug"] = { fg = "#636da6" },
		["SnacksDashboardFooter"] = { fg = "#65bcff" },
		["SnacksInputIcon"] = { fg = "#65bcff" },
		["SnacksInputBorder"] = { fg = "#ffc777" },
		["SnacksPickerPickWinCurrent"] = { fg = "#c8d3f5", bg = "#ff007c", bold = true },
		["SnacksPickerPickWin"] = { fg = "#c8d3f5", bg = "#3e68d7" },
		["SnacksGhLabel"] = { fg = "#65bcff", bold = true },
		--["SnacksPickerToggle"] = {}, -- xxx links to SnacksProfilerBadgeInfo
		["SnacksNotifierTitleDebug"] = { fg = "#636da6" },
		["SnacksNotifierTitleError"] = { fg = "#c53b53" },
		["SnacksNotifierIconError"] = { fg = "#c53b53" },
		["SnacksInputTitle"] = { fg = "#ffc777" },

		-- MiniIcons
		["MiniIconsBlue"] = { fg = "#82aaff" },
		["MiniIconsAzure"] = { fg = "#0db9d7" },
		["MiniIconsCyan"] = { fg = "#4fd6be" },
		["MiniIconsGreen"] = { fg = "#c3e88d" },
		["MiniIconsGrey"] = { fg = "#c8d3f5" },
		["MiniIconsOrange"] = { fg = "#ff966c" },
		["MiniIconsPurple"] = { fg = "#fca7ea" },
		["MiniIconsRed"] = { fg = "#ff757f" },
		["MiniIconsYellow"] = { fg = "#ffc777" },
	}

	for group, opts in pairs(core_hl) do
		vim.api.nvim_set_hl(0, group, opts)
	end
end

function M.apply_treesitter()
	--vim.notify("pitchblack:highlights:apply_treesitter()")
	-- Treesitter / Syntax highlights
	local ts_hl = {
		["@constructor.typescript"] = { fg = "#4ec9b0" },
		["@keyword.return.typescript"] = { fg = "#C586C0" },
		["@keyword.coroutine.typescript"] = { fg = "#C586C0" },
		["@type.builtin.typescript"] = { fg = "#4EC9B0" },
		["@attribute"] = { fg = "#ffffff" },
		["@comment"] = { fg = "#6a9955", italic = false },
		["@string"] = { fg = "#d69d85" },
		["@character"] = { fg = "#d69d85" },
		["@keyword"] = { fg = "#569cd6", italic = false },
		["@keyword.function"] = { fg = "#569cd6" },
		["@keyword.modifier"] = { fg = "#569cd6" },
		["@keyword.struct"] = { fg = "#569cd6" },
		["@keyword.repeat"] = { fg = "#C586C0" },
		["@keyword.conditional"] = { fg = "#C586C0" },
		["@keyword.enum"] = { fg = "#569cd6" },
		["@keyword.import"] = { fg = "#569cd6" },
		["@function"] = { fg = "#DCDCAA" },
		["@function.rust"] = { fg = "#DCDCAA" },
		["@function.method"] = { fg = "#DCDCAA" },
		["@function.call"] = { fg = "#DCDCAA" },
		["@function.builtin"] = { fg = "#569cd6" },
		["@variable"] = { fg = "#9CDCFE" },
		["@variable.builtin"] = { fg = "#569cd6" },
		["@variable.member"] = { fg = "#9cdcfe" },
		["@variable.parameter"] = { fg = "#9cdcfe" },
		["@constant"] = { fg = "#4fc1ff" },
		["@type"] = { fg = "#4ec9b0" },
		["@number"] = { fg = "#b5cea8" },
		["@boolean"] = { fg = "#569cd6" },
		["@module"] = { fg = "#4ec9b0" },
		["@operator"] = { fg = "#d4d4d4" },
		["@namespace"] = { fg = "#569cd6" },
		["@parameter"] = { fg = "#9cdcfe" },
		["@property"] = { fg = "#9cdcfe" },
		["@punctuation.delimiter"] = { fg = "#ffffff" },
		["@punctuation.special"] = { fg = "#ffffff" },
		["@method"] = { fg = "#DCDCAA" },
		["@tag"] = { fg = "#569cd6" },
		["@field"] = { fg = "#9cdcfe" },
		["@lsp.mod.mutable.rust"] = { fg = "#9cdcfe", bold = true },
		["@lsp.typemod.generic.attribute.rust"] = { fg = "#ffffff" },
		["@lsp.type.formatSpecifier.rust"] = { fg = "#569cd6" },
		["@type.builtin.rust"] = { fg = "#4EC9B0" },
		["SnacksPickerGitStatusUntracked"] = { fg = "#b6b6c0", italic = true },
		["DiagnosticUnderlineError"] = { undercurl = true, underdouble = true, sp = "#ff0000" },
		["DiagnosticUnderlineHint"] = { undercurl = true, underdouble = true, sp = "#4fd6be" },
		["DiagnosticUnderlineWarn"] = { undercurl = true, underdouble = true, sp = "#ffc777" },
		["DiagnosticUnnecessary"] = {
			blend = 50,
			underdouble = true,
			fg = "#736f44",
			sp = "#ffc777",
		},
	}

	for group, opts in pairs(ts_hl) do
		vim.api.nvim_set_hl(0, group, opts)
	end
end

return M
